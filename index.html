<!DOCTYPE html>
<html>
<head>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

        body {
            background-color: transparent; 
            margin: 0;
            padding: 5px;
            font-family: 'Inter', sans-serif;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .event-pill {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 16px;
            border-radius: 14px;
            font-size: 13px;
            color: white;
            font-weight: 600;
            
            /* Frosted Glass Effect */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            
            max-width: 280px; /* Small and compact */
            transition: transform 0.2s ease;
        }

        .event-pill:hover {
            transform: scale(1.03);
        }

        .event-time {
            font-size: 10px;
            opacity: 0.7;
            margin-left: 12px;
            font-weight: 400;
            text-transform: uppercase;
        }
    </style>
</head>
<body>

    <div id="calendar-content"></div>

    <script>
        const API_KEY = 'AIzaSyD0x1_dYTIdaCjAY-mJ_oYwDXXKj8y16R0';
        const CALENDAR_ID = 's.alshwauva@gmail.com';

        // Glassmorphism Color Mapper (Semi-transparent Pastel/Neon)
        const colorMap = {
            "1": "rgba(162, 210, 255, 0.4)", // Pastel Blue
            "2": "rgba(185, 251, 192, 0.4)", // Mint
            "3": "rgba(255, 175, 204, 0.4)", // Pastel Pink
            "4": "rgba(255, 207, 210, 0.4)", // Soft Red
            "5": "rgba(253, 228, 207, 0.4)", // Peach
            "6": "rgba(241, 192, 232, 0.4)", // Soft Purple
            "7": "rgba(1, 205, 254, 0.4)",   // Neon Cyan
            "8": "rgba(255, 113, 206, 0.4)", // Neon Pink
            "9": "rgba(185, 103, 255, 0.4)", // Electric Purple
            "10": "rgba(207, 186, 240, 0.4)",// Lavender
            "11": "rgba(255, 251, 150, 0.4)" // Neon Yellow
        };

        async function fetchCalendar() {
            const startOfDay = new Date();
            startOfDay.setHours(0,0,0,0);
            const url = `https://www.googleapis.com/calendar/v3/calendars/${CALENDAR_ID}/events?key=${API_KEY}&timeMin=${startOfDay.toISOString()}&maxResults=6&singleEvents=true&orderBy=startTime`;
            
            try {
                const response = await fetch(url);
                const data = await response.json();
                const container = document.getElementById('calendar-content');
                container.innerHTML = '';

                data.items.forEach(event => {
                    const start = new Date(event.start.dateTime || event.start.date);
                    const timeStr = start.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                    
                    // Pull the Google Color ID, or default to soft purple glass
                    const bgColor = colorMap[event.colorId] || "rgba(255, 255, 255, 0.15)"; 
                    
                    const pill = document.createElement('div');
                    pill.className = 'event-pill';
                    pill.style.backgroundColor = bgColor;
                    pill.innerHTML = `
                        <span>${event.summary}</span>
                        <span class="event-time">${timeStr}</span>
                    `;
                    container.appendChild(pill);
                });
            } catch (e) {
                console.error("Sync Error");
            }
        }
        fetchCalendar();
    </script>
</body>
</html>
